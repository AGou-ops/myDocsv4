<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…MinIOå¯¹è±¡å­˜å‚¨">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">å•èŠ‚ç‚¹éƒ¨ç½² | AGou&#x27;s Docsv4</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.agou-ops.cn/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…MinIOå¯¹è±¡å­˜å‚¨"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="å•èŠ‚ç‚¹éƒ¨ç½² | AGou&#x27;s Docsv4"><meta data-rh="true" name="description" content="å‚è€ƒæ–‡æ¡£"><meta data-rh="true" property="og:description" content="å‚è€ƒæ–‡æ¡£"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.agou-ops.cn/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…MinIOå¯¹è±¡å­˜å‚¨"><link data-rh="true" rel="alternate" href="https://docs.agou-ops.cn/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…MinIOå¯¹è±¡å­˜å‚¨" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.agou-ops.cn/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…MinIOå¯¹è±¡å­˜å‚¨" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-KQED41RW95","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>




<script src="http://23.94.25.11:38080/script.js" async data-website-id="dc1ebecd-127f-4df7-bd12-bc3d0cc31998"></script><link rel="stylesheet" href="/assets/css/styles.6908ad1e.css">
<link rel="preload" href="/assets/js/runtime~main.769d471d.js" as="script">
<link rel="preload" href="/assets/js/main.cfb3537f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Welcome to AGou&#x27;s Docs!" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Welcome to AGou&#x27;s Docs!" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">AGou&#x27;s Docsv4</b></a><a href="https://agou-ops.cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">âœ¨ æˆ‘çš„åšå®¢<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"> ğŸ“– ç›®å½•</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs">ğŸŒ² ç›®å½•æ ‘</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/category/äº‘åŸç”Ÿç›¸å…³">â˜ï¸ äº‘åŸç”Ÿç›¸å…³</a></li><li><a class="dropdown__link" href="/docs/category/linuxåŸºç¡€">ğŸ˜Š LinuxåŸºç¡€</a></li><li><a class="dropdown__link" href="/docs/category/ç¼–ç¨‹è¯­è¨€">â™¨ï¸ ç¼–ç¨‹è¯­è¨€</a></li><li><a class="dropdown__link" href="/docs/category/è„šæœ¬ç›¸å…³">ğŸ•¹ï¸ è„šæœ¬ç›¸å…³</a></li><li><a class="dropdown__link" href="/docs/category/é¢è¯•ç›¸å…³">ğŸ‘¨â€âš–ï¸ é¢è¯•ç›¸å…³</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ç‰ˆæœ¬</a><ul class="dropdown__menu"><li><a href="https://agou-ops.cn/myDocs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Ver1.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://agou-ops.cn/myDocsv2" target="_blank" rel="noopener noreferrer" class="dropdown__link">Ver2.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://agou-ops.cn/myDocsv3" target="_blank" rel="noopener noreferrer" class="dropdown__link">Ver3.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/AGou-ops" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub ä»“åº“"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.png" alt="Welcome to AGou&#x27;s Docs!" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Welcome to AGou&#x27;s Docs!" class="themedImage_ToTc themedImage--dark_i4oU"><b>AGou&#x27;s Docsv4</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/äº‘åŸç”Ÿç›¸å…³">äº‘åŸç”Ÿç›¸å…³</a><button aria-label="Toggle the collapsible sidebar category &#x27;äº‘åŸç”Ÿç›¸å…³&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/cicd">CICD</a><button aria-label="Toggle the collapsible sidebar category &#x27;CICD&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/cloudcomptering">CloudComptering</a><button aria-label="Toggle the collapsible sidebar category &#x27;CloudComptering&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/docker">Docker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Docker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/elfk">ELFK</a><button aria-label="Toggle the collapsible sidebar category &#x27;ELFK&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/prometheus">Prometheus</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prometheus&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/k8s">k8s</a><button aria-label="Toggle the collapsible sidebar category &#x27;k8s&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/helm">Helm</a><button aria-label="Toggle the collapsible sidebar category &#x27;Helm&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/installation">Installation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/quicklystart">Quicklystart</a><button aria-label="Toggle the collapsible sidebar category &#x27;Quicklystart&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/å®æˆ˜æ¡ˆä¾‹">å®æˆ˜æ¡ˆä¾‹</a><button aria-label="Toggle the collapsible sidebar category &#x27;å®æˆ˜æ¡ˆä¾‹&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/RBAC å®æˆ˜æ¡ˆä¾‹">ï¼ˆä¸€ï¼‰é€šè¿‡ç”¨æˆ·è´¦å·çš„æ–¹å¼åˆ†é…å•ç‹¬Namespaceçš„æƒé™</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/SpringCloudå¾®æœåŠ¡ç”µå•†ç³»ç»Ÿåœ¨Kubernetesé›†ç¾¤ä¸­ä¸Šçº¿è¯¦ç»†æ•™ç¨‹">SpringCloudå¾®æœåŠ¡ç”µå•†ç³»ç»Ÿåœ¨Kubernetesé›†ç¾¤ä¸­ä¸Šçº¿è¯¦ç»†æ•™ç¨‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/cert-managerè‡ªåŠ¨é¢å‘è¯ä¹¦">cert-managerè‡ªåŠ¨é¢å‘è¯ä¹¦</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/helmå®‰è£…zookeeperé›†ç¾¤">helmå®‰è£…zookeeperé›†ç¾¤</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/jenkinsç»“åˆ">jenkinsç»“åˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8sä¸­ä½¿ç”¨traefikï¼ˆåŸºç¡€ï¼‰">k8sä¸­ä½¿ç”¨traefikï¼ˆåŸºç¡€ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…Apolloé…ç½®ä¸­å¿ƒ">k8så®‰è£…Apolloé…ç½®ä¸­å¿ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…MinIOå¯¹è±¡å­˜å‚¨">å•èŠ‚ç‚¹éƒ¨ç½²</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/ä½¿ç”¨CSR APIåˆ›å»ºç”¨æˆ·">ä½¿ç”¨CSR APIåˆ›å»ºç”¨æˆ·</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/å…¶ä»–å®æˆ˜æ¡ˆä¾‹">å…¶ä»–å®æˆ˜æ¡ˆä¾‹</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/Kubeadm å¿«é€Ÿéƒ¨ç½²k8sé›†ç¾¤">Kubeadm å¿«é€Ÿéƒ¨ç½²k8sé›†ç¾¤</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/Kubernetes REST API">Kubernetes REST API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/Kubernetes Yaml quicklystart">Kubernetes YAML file quicklystart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/Kubernetes with Jenkins CICD">åŸºäºkuberneteså¹³å°çš„CICDæŒç»­é›†æˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/Minikube Basic">Minikube Basic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/Prometheus-Grafanaå…¨æ–¹ä½ç›‘æ§Kubernetesé›†ç¾¤">Prometheus+Grafanaå…¨æ–¹ä½ç›‘æ§Kubernetesé›†ç¾¤</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/Remote access k8s">kubectlè¿œç¨‹è¿æ¥k8s</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/k3d">k3d</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/k8s command">Kubernetes CLI command -- kubectl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/k8s å›¾è§£å¤§å…¨">k8så›¾è§£å¤§å…¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/k8s ç½‘ç»œç›¸å…³">k8s ç½‘ç»œç›¸å…³</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/k8sæ¦‚å¿µåŠåŸç†ç›¸å…³">k8s æ¦‚å¿µåŠåŸç†ç›¸å…³</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/kompose Basic">Kompose Basic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/k8s/kubenetesè¿œç¨‹è°ƒè¯•å·¥å…·">kubenetesè¿œç¨‹è°ƒè¯•å·¥å…·</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/CloudNative/k8s/å°æŠ€å·§/ä½¿ç”¨curlè®¿é—®k8sçš„REST API">å°æŠ€å·§</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/Consul å…¥é—¨">Consul å…¥é—¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/Dubbo Basic">Dubbo Basic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/Grafana Loki Basic">Grafana Loki</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/Istio Basic">Istio Basic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CloudNative/">CloudNative.</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/äº‘åŸç”Ÿç›¸å…³"><span itemprop="name">äº‘åŸç”Ÿç›¸å…³</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/k8s"><span itemprop="name">k8s</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/å®æˆ˜æ¡ˆä¾‹"><span itemprop="name">å®æˆ˜æ¡ˆä¾‹</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">å•èŠ‚ç‚¹éƒ¨ç½²</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>å•èŠ‚ç‚¹éƒ¨ç½²</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£<a href="#å‚è€ƒæ–‡æ¡£" class="hash-link" aria-label="Direct link to å‚è€ƒæ–‡æ¡£" title="Direct link to å‚è€ƒæ–‡æ¡£">â€‹</a></h2><p><a href="http://www.minio.org.cn/docs/minio/kubernetes/upstream/#quickstart-minio-for-kubernetes" target="_blank" rel="noopener noreferrer">http://www.minio.org.cn/docs/minio/kubernetes/upstream/#quickstart-minio-for-kubernetes</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="éƒ¨ç½²minio">éƒ¨ç½²minIO<a href="#éƒ¨ç½²minio" class="hash-link" aria-label="Direct link to éƒ¨ç½²minIO" title="Direct link to éƒ¨ç½²minIO">â€‹</a></h2><p>åˆ›å»ºèµ„æº</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# cat &gt; minio.yaml &lt;&lt; EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      app: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        app: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image: quay.io/minio/minio:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        command:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - -c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        args: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - minio server /data --console-address :9090</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        volumeMounts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - mountPath: /data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          name: localvolume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - containerPort: 9090</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          name: console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - containerPort: 9000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          name: api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nodeSelector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        kubernetes.io/hostname: k8s-master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      volumes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: localvolume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hostPath:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          path: /data/minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          type: DirectoryOrCreate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minio-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: NodePort </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    selector:     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      app: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - name: console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      port: 9090</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      protocol: TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      targetPort: 9090</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nodePort: 30300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - name: api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      port: 9000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      protocol: TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      targetPort: 9000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nodePort: 30200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl apply -f minio.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment.apps/minio created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service/minio-service created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨NodePortæ–¹å¼è®¿é—®webé¡µé¢</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl get pod -n minio </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                     READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio-86577f8755-l65mf   1/1     Running   0          11m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl get svc -n minio </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME            TYPE       CLUSTER-IP       EXTERNAL-IP   PORT(S)                         AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio-service   NodePort   10.102.223.132   &lt;none&gt;        9090:30300/TCP,9000:30200/TCP   10m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è®¿é—®k8sèŠ‚ç‚¹ip:30300ï¼Œé»˜è®¤ç”¨æˆ·åå¯†ç éƒ½æ˜¯<strong>minioadmin</strong>
<img loading="lazy" src="https://cdn.agou-ops.cn/others/1681288151994-3eb8a828-d5d8-430b-a505-4beee56f8c3b.png" alt="image.png" class="img_ev3q">
ä½¿ç”¨ingressæ–¹å¼è®¿é—®</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# cat minio-ingress.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: traefik.containo.us/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: IngressRoute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minio-console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  entryPoints:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  routes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - match: Host(`minio.test.com`) # åŸŸå</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind: Rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: minio-service  # ä¸svcçš„nameä¸€è‡´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port: 9090           # ä¸svcçš„portä¸€è‡´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: traefik.containo.us/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: IngressRoute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minio-api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  entryPoints:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  routes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - match: Host(`minio-api.test.com`) # åŸŸå</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind: Rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: minio-service  # ä¸svcçš„nameä¸€è‡´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port: 9000           # ä¸svcçš„portä¸€è‡´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl apply -f minio-ingress.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingressroute.traefik.containo.us/minio-console created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingressroute.traefik.containo.us/minio-api created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ·»åŠ hostsè®°å½•<code>192.168.10.10 minio.test.com</code>è®¿é—®åŸŸåå³å¯</p><h1>éƒ¨ç½²minIOé›†ç¾¤</h1><p>minIOé›†ç¾¤æ–¹å¼éƒ¨ç½²ä½¿ç”¨operatoræˆ–è€…helmå‡å¯ã€‚helméƒ¨ç½²minIOå‚è€ƒæ–‡æ¡£ï¼š<a href="https://artifacthub.io/packages/helm/bitnami/minio%E3%80%82operator%E9%83%A8%E7%BD%B2minIO%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3%EF%BC%9Ahttps://operator.min.io/%EF%BC%8C%E6%AD%A4%E5%A4%84%E4%BD%BF%E7%94%A8helm%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/helm/bitnami/minioã€‚operatoréƒ¨ç½²minIOå‚è€ƒæ–‡æ¡£ï¼šhttps://operator.min.io/ï¼Œæ­¤å¤„ä½¿ç”¨helmæ–¹å¼éƒ¨ç½²</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="é›†ç¾¤è§’è‰²è§„åˆ’">é›†ç¾¤è§’è‰²è§„åˆ’<a href="#é›†ç¾¤è§’è‰²è§„åˆ’" class="hash-link" aria-label="Direct link to é›†ç¾¤è§’è‰²è§„åˆ’" title="Direct link to é›†ç¾¤è§’è‰²è§„åˆ’">â€‹</a></h2><p>ä½¿ç”¨åˆ†å¸ƒå¼æ–¹å¼éƒ¨ç½²é«˜å¯ç”¨çš„minIOé›†ç¾¤æ—¶ï¼Œé©±åŠ¨å™¨æ€»æ•°è‡³å°‘æ˜¯4 ä¸ªï¼Œä»¥ä¿è¯çº åˆ ç ã€‚æˆ‘ä»¬å¯ä»¥åœ¨k8s-work1å’Œk8s-work2ä¸Šçš„data1å’Œdata2è·¯å¾„å­˜æ”¾minIOæ•°æ®ï¼Œä½¿ç”¨local pvæ–¹å¼æŒä¹…åŒ–æ•°æ®ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ›å»ºæ•°æ®å­˜æ”¾è·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-work1 ~]# mkdir -p /data1/minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-work1 ~]# mkdir -p /data2/minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-work2 ~]# mkdir -p /data1/minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-work2 ~]# mkdir -p /data2/minio</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¸‹è½½helmåŒ…">ä¸‹è½½helmåŒ…<a href="#ä¸‹è½½helmåŒ…" class="hash-link" aria-label="Direct link to ä¸‹è½½helmåŒ…" title="Direct link to ä¸‹è½½helmåŒ…">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# helm repo add bitnami https://charts.bitnami.com/bitnami</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# helm pull bitnami/minio --untar </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# cd minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Chart.lock  charts  Chart.yaml  README.md  templates  values.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¿®æ”¹é…ç½®">ä¿®æ”¹é…ç½®<a href="#ä¿®æ”¹é…ç½®" class="hash-link" aria-label="Direct link to ä¿®æ”¹é…ç½®" title="Direct link to ä¿®æ”¹é…ç½®">â€‹</a></h2><p>æ·»åŠ storage-classæ¨¡æ¿é…ç½®ï¼š</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# cat &gt; templates/storage-class.yaml &lt;&lt; EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: StorageClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: storage.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minio-local-storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">provisioner: kubernetes.io/no-provisioner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">volumeBindingMode: WaitForFirstConsumer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ·»åŠ  pvæ¨¡æ¿é…ç½®</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# cat templates/pv.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{- $size := .Values.persistence.size -}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{- $accessModes := .Values.persistence.accessModes -}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{- $storageClass := .Values.persistence.storageClass -}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{- range .Values.persistence.local }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: PersistentVolume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: {{ .name }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  capacity:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    storage: {{ $size }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  volumeMode: Filesystem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  accessModes: {{ $accessModes }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  persistentVolumeReclaimPolicy: Delete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  storageClassName: {{ $storageClass }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  local:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path: {{ .path }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nodeAffinity:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nodeSelectorTerms:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - matchExpressions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - key: kubernetes.io/hostname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          operator: In</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          values:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - {{ .host }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--- </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{- end }}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¿®æ”¹é…ç½®values.yaml</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">91  mode: distributed # é›†ç¾¤æ¨¡å¼ï¼Œå•èŠ‚ç‚¹ä¸ºstandaloneï¼Œåˆ†å¸ƒå¼é›†ç¾¤ä¸ºdistributed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">185 statefulset:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">203   replicaCount: 2 # èŠ‚ç‚¹æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">206   zones: 1 # åŒºåŸŸæ•°ï¼Œ1ä¸ªå³å¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">209   drivesPerNode: 2 # æ¯ä¸ªèŠ‚ç‚¹æ•°æ®ç›®å½•æ•°.2èŠ‚ç‚¹Ã—2ç›®å½•ç»„æˆ4èŠ‚ç‚¹çš„mimioé›†ç¾¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">594 service:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">597   type: NodePort # ä¿®æ”¹serverç±»å‹ä¸ºNodePort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">608   nodePorts: # æŒ‡å®šNodePortç«¯å£å·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">609     api: &quot;30900&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">610     console: &quot;30901&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">886 persistence:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">889   enabled: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">897   storageClass: &quot;minio-local-storage&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">900   mountPath: /data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">903   accessModes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">904     - ReadWriteOnce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">907   size: 10Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">910   annotations: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">913   existingClaim: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">914   local:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">915     - name: minio-pv-0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">916       path: /data1/minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">917       host: k8s-work1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">918     - name: minio-pv-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">919       path: /data2/minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">920       host: k8s-work1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">921     - name: minio-pv-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">922       path: /data1/minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">923       host: k8s-work2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">924     - name: minio-pv-3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">925       path: /data2/minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">926       host: k8s-work2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="éƒ¨ç½²minio-1">éƒ¨ç½²minIO<a href="#éƒ¨ç½²minio-1" class="hash-link" aria-label="Direct link to éƒ¨ç½²minIO" title="Direct link to éƒ¨ç½²minIO">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl create ns minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# helm install minio . -f values.yaml -n minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LAST DEPLOYED: Thu Apr 13 13:52:22 2023</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAMESPACE: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">STATUS: deployed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">REVISION: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TEST SUITE: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NOTES:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CHART NAME: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CHART VERSION: 12.2.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP VERSION: 2023.3.24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">** Please be patient while the chart is being deployed **</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MinIO&amp;reg; can be accessed via port  on the following DNS name from within your cluster:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   minio.minio.svc.cluster.local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To get your credentials run:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   export ROOT_USER=$(kubectl get secret --namespace minio minio -o jsonpath=&quot;{.data.root-user}&quot; | base64 -d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   export ROOT_PASSWORD=$(kubectl get secret --namespace minio minio -o jsonpath=&quot;{.data.root-password}&quot; | base64 -d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To connect to your MinIO&amp;reg; server using a client:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Run a MinIO&amp;reg; Client pod and append the desired command (e.g. &#x27;admin info&#x27;):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   kubectl run --namespace minio minio-client \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     --rm --tty -i --restart=&#x27;Never&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     --env MINIO_SERVER_ROOT_USER=$ROOT_USER \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     --env MINIO_SERVER_ROOT_PASSWORD=$ROOT_PASSWORD \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     --env MINIO_SERVER_HOST=minio \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     --image docker.io/bitnami/minio-client:2023.3.23-debian-11-r0 -- admin info minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To access the MinIO&amp;reg; web UI:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Get the MinIO&amp;reg; URL:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   export NODE_PORT=$(kubectl get --namespace minio -o jsonpath=&quot;{.spec.ports[0].nodePort}&quot; services minio)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   export NODE_IP=$(kubectl get nodes --namespace minio -o jsonpath=&quot;{.items[0].status.addresses[0].address}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   echo &quot;MinIO&amp;reg; web URL: http://$NODE_IP:$NODE_PORT/minio&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æŸ¥çœ‹èµ„æºä¿¡æ¯">æŸ¥çœ‹èµ„æºä¿¡æ¯<a href="#æŸ¥çœ‹èµ„æºä¿¡æ¯" class="hash-link" aria-label="Direct link to æŸ¥çœ‹èµ„æºä¿¡æ¯" title="Direct link to æŸ¥çœ‹èµ„æºä¿¡æ¯">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl get pod -n minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME      READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio-0   1/1     Running   0          24m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio-1   1/1     Running   0          24m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl get all -n minio </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME          READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod/minio-0   1/1     Running   0          25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod/minio-1   1/1     Running   0          25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                         AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service/minio            NodePort    10.100.230.196   &lt;none&gt;        9000:30900/TCP,9001:30901/TCP   25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service/minio-headless   ClusterIP   None             &lt;none&gt;        9000/TCP,9001/TCP               25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                     READY   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">statefulset.apps/minio   2/2     25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl get pvc -n minio </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME             STATUS   VOLUME       CAPACITY   ACCESS MODES   STORAGECLASS          AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data-0-minio-0   Bound    minio-pv-3   10Gi       RWO            minio-local-storage   25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data-0-minio-1   Bound    minio-pv-0   10Gi       RWO            minio-local-storage   25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data-1-minio-0   Bound    minio-pv-2   10Gi       RWO            minio-local-storage   25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data-1-minio-1   Bound    minio-pv-1   10Gi       RWO            minio-local-storage   25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl get pv -n minio </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                               STORAGECLASS          REASON   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio-pv-0                                 10Gi       RWO            Delete           Bound    minio/data-0-minio-1                minio-local-storage            25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio-pv-1                                 10Gi       RWO            Delete           Bound    minio/data-1-minio-1                minio-local-storage            25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio-pv-2                                 10Gi       RWO            Delete           Bound    minio/data-1-minio-0                minio-local-storage            25m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio-pv-3                                 10Gi       RWO            Delete           Bound    minio/data-0-minio-0                minio-local-storage            25m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åˆ›å»ºingressèµ„æº">åˆ›å»ºingressèµ„æº<a href="#åˆ›å»ºingressèµ„æº" class="hash-link" aria-label="Direct link to åˆ›å»ºingressèµ„æº" title="Direct link to åˆ›å»ºingressèµ„æº">â€‹</a></h2><p>ä»¥ingrss-nginxä¸ºä¾‹ï¼š</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># cat &gt; ingress.yaml &lt;&lt; EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: networking.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Ingress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minio-ingreess</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  annotations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nginx.ingress.kubernetes.io/rewrite-target: /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ingressClassName: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - host: minio.local.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      paths:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - path: /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pathType: Prefix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        backend:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          service:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            port:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              number: 9001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»¥traefikä¸ºä¾‹ï¼š</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# cat ingress.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: traefik.containo.us/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: IngressRoute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minio-console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  entryPoints:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  routes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - match: Host(`minio.local.com`) # åŸŸå</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind: Rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: minio  # ä¸svcçš„nameä¸€è‡´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port: 9001      # ä¸svcçš„portä¸€è‡´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: traefik.containo.us/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: IngressRoute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minio-api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  entryPoints:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  routes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - match: Host(`minio-api.local.com`) # åŸŸå</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind: Rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: minio  # ä¸svcçš„nameä¸€è‡´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port: 9000      # ä¸svcçš„portä¸€è‡´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl apply -f ingress.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingressroute.traefik.containo.us/minio-console created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingressroute.traefik.containo.us/minio-api created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="è®¿é—®æµ‹è¯•">è®¿é—®æµ‹è¯•<a href="#è®¿é—®æµ‹è¯•" class="hash-link" aria-label="Direct link to è®¿é—®æµ‹è¯•" title="Direct link to è®¿é—®æµ‹è¯•">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># è·å–ç”¨æˆ·åå’Œå¯†ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl get secret --namespace minio minio -o jsonpath=&quot;{.data.root-user}&quot; | base64 -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin[root@k8s-master minio]# </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# kubectl get secret --namespace minio minio -o jsonpath=&quot;{.data.root-password}&quot; | base64 -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WtAbQDQITX[root@k8s-master minio]# </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="è®¿é—®webç®¡ç†é¡µ">è®¿é—®webç®¡ç†é¡µ<a href="#è®¿é—®webç®¡ç†é¡µ" class="hash-link" aria-label="Direct link to è®¿é—®webç®¡ç†é¡µ" title="Direct link to è®¿é—®webç®¡ç†é¡µ">â€‹</a></h2><p><img loading="lazy" src="https://cdn.agou-ops.cn/others/1692006006827-dc9b1c7c-7eb9-48eb-824a-3f2037923024.png" alt="image.png" class="img_ev3q"></p><h1>minIOä½¿ç”¨</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åˆ›å»ºbucket">åˆ›å»ºbucket<a href="#åˆ›å»ºbucket" class="hash-link" aria-label="Direct link to åˆ›å»ºbucket" title="Direct link to åˆ›å»ºbucket">â€‹</a></h2><p><img loading="lazy" src="https://cdn.agou-ops.cn/others/1681288250619-9e71b807-95a6-428d-84bd-c2ee3ba7e451.png" alt="image.png" class="img_ev3q">
<img loading="lazy" src="https://cdn.agou-ops.cn/others/1681288331888-6b91729a-67c0-4675-a628-5bcd6260f7ad.png" alt="image.png" class="img_ev3q">
<img loading="lazy" src="https://cdn.agou-ops.cn/others/1681288347417-c7c79085-cd11-48f4-97f1-34ba97cb8e78.png" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åˆ›å»ºaccess-keys">åˆ›å»ºAccess Keys<a href="#åˆ›å»ºaccess-keys" class="hash-link" aria-label="Direct link to åˆ›å»ºAccess Keys" title="Direct link to åˆ›å»ºAccess Keys">â€‹</a></h2><p><img loading="lazy" src="https://cdn.agou-ops.cn/others/1681288392924-8647ad8a-64c2-4e23-b609-dfdb6333f403.png" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åˆ›å»ºè®¿é—®æ§åˆ¶æƒé™">åˆ›å»ºè®¿é—®æ§åˆ¶æƒé™<a href="#åˆ›å»ºè®¿é—®æ§åˆ¶æƒé™" class="hash-link" aria-label="Direct link to åˆ›å»ºè®¿é—®æ§åˆ¶æƒé™" title="Direct link to åˆ›å»ºè®¿é—®æ§åˆ¶æƒé™">â€‹</a></h2><p>Minio çš„å­˜å‚¨æ¡¶é»˜è®¤æ˜¯ä¸è·Ÿä»»ä½• Acess Key å…³è”çš„ï¼Œä¸è¿‡ç”±äº Minio æ”¯æŒæ ‡å‡†çš„ S3 åè®®ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ Access Key æˆäºˆæŸä¸ª Bucket å­˜å‚¨æ¡¶çš„è®¿é—®æƒé™ï¼Œå®ç° Key å’Œ Bucket çš„ç»‘å®šã€‚
åˆ›å»ºpolicy
<img loading="lazy" src="https://cdn.agou-ops.cn/others/1689994620680-5022ac1d-e950-40f5-98ba-0512c9e40f9a.png" alt="image.png" class="img_ev3q"></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Statement&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Action&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;s3:ListAllMyBuckets&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;s3:ListBucket&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;s3:GetBucketLocation&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;s3:GetObject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;s3:PutObject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;s3:DeleteObject&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Resource&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;arn:aws:s3:::es-backup/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åˆ›å»ºuser
è¿™é‡Œ Access Key æ˜¯ç”¨æˆ·åï¼ŒAccess Secret æ˜¯å¯¹åº”çš„å£ä»¤ã€‚è®¾ç½®æ—¶å…³è”ä¸Šåˆšæ‰åˆ›å»ºçš„ Policy å³å¯ã€‚
<img loading="lazy" src="https://cdn.agou-ops.cn/others/1689994774057-67d85be0-91d3-4e67-a42c-e0f12d09c89c.png" alt="image.png" class="img_ev3q">
æˆ‘ä»¬å°±åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­˜å‚¨æ¡¶ï¼Œå¹¶ä¸”ç»™è¿™ä¸ªå­˜å‚¨æ¡¶è®¾ç½®äº†ä¸€ä¸ªç”¨æˆ·ï¼ŒåŒæ—¶æˆæƒäº†ç”¨æˆ·å¯¹å­˜å‚¨æ¡¶çš„è®¿é—®ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€ä¸Šä¼ ã€ä¸‹è½½è¿™å‡ ä¸ªåŸºæœ¬æƒé™ã€‚</p><h1>mcå®¢æˆ·ç«¯ä½¿ç”¨</h1><p>MinIO Client (mc)ä¸ºlsï¼Œcatï¼Œcpï¼Œmirrorï¼Œdiffï¼Œfindç­‰UNIXå‘½ä»¤æä¾›äº†ä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒæ”¯æŒæ–‡ä»¶ç³»ç»Ÿå’Œå…¼å®¹Amazon S3çš„äº‘å­˜å‚¨æœåŠ¡ï¼ˆAWS Signature v2å’Œv4ï¼‰ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å®‰è£…mcå®¢æˆ·ç«¯linuxäºŒè¿›åˆ¶æ–‡ä»¶">å®‰è£…mcå®¢æˆ·ç«¯ï¼ˆLinuxäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰<a href="#å®‰è£…mcå®¢æˆ·ç«¯linuxäºŒè¿›åˆ¶æ–‡ä»¶" class="hash-link" aria-label="Direct link to å®‰è£…mcå®¢æˆ·ç«¯ï¼ˆLinuxäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰" title="Direct link to å®‰è£…mcå®¢æˆ·ç«¯ï¼ˆLinuxäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio]# curl https://dl.min.io/client/mc/release/linux-amd64/mc --create-dirs -o /usr/local/minio-binaries/mc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master local]# cd /usr/local/minio-binaries</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio-binaries]# ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio-binaries]# chmod +x mc </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio-binaries]# ./mc --help</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (q)uit/esc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME:                                                                              </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mc - MinIO Client for object storage and filesystems.                            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USAGE:                                                                             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mc [FLAGS] COMMAND [COMMAND FLAGS | -h] [ARGUMENTS...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ·»åŠ ç¯å¢ƒå˜é‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio-binaries]# cat /etc/profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=&quot;$PATH:/usr/local/minio-binaries&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio-binaries]# source /etc/profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio-binaries]# mc --help</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (q)uit/esc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mc [FLAGS] COMMAND [COMMAND FLAGS | -h] [ARGUMENTS...]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å®‰è£…mcå®¢æˆ·ç«¯docker">å®‰è£…mcå®¢æˆ·ç«¯ï¼ˆdockerï¼‰<a href="#å®‰è£…mcå®¢æˆ·ç«¯docker" class="hash-link" aria-label="Direct link to å®‰è£…mcå®¢æˆ·ç«¯ï¼ˆdockerï¼‰" title="Direct link to å®‰è£…mcå®¢æˆ·ç«¯ï¼ˆdockerï¼‰">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@tiaoban ~]# docker run -it --rm minio/mc ls play</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc: Configuration written to `/root/.mc/config.json`. Please update your access credentials.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc: Successfully created `/root/.mc/share`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc: Initialized share uploads `/root/.mc/share/uploads.json` file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc: Initialized share downloads `/root/.mc/share/downloads.json` file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-04-13 01:39:27 UTC]     0B 64375d4bed2b146c15d5383f-files/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-03-15 11:55:17 UTC]     0B abc/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-03-31 18:46:54 UTC]     0B awdkenny/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mcå®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤">mcå®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤<a href="#mcå®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤" class="hash-link" aria-label="Direct link to mcå®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤" title="Direct link to mcå®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤">â€‹</a></h2><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>ls</td><td>åˆ—å‡ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚</td></tr><tr><td>mb</td><td>åˆ›å»ºä¸€ä¸ªå­˜å‚¨æ¡¶æˆ–ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚</td></tr><tr><td>cat</td><td>æ˜¾ç¤ºæ–‡ä»¶å’Œå¯¹è±¡å†…å®¹ã€‚</td></tr><tr><td>pipe</td><td>å°†ä¸€ä¸ªSTDINé‡å®šå‘åˆ°ä¸€ä¸ªå¯¹è±¡æˆ–è€…æ–‡ä»¶æˆ–è€…STDOUTã€‚</td></tr><tr><td>share</td><td>ç”Ÿæˆç”¨äºå…±äº«çš„URLã€‚</td></tr><tr><td>cp</td><td>æ‹·è´æ–‡ä»¶å’Œå¯¹è±¡ã€‚</td></tr><tr><td>mirror</td><td>ç»™å­˜å‚¨æ¡¶å’Œæ–‡ä»¶å¤¹åšé•œåƒã€‚</td></tr><tr><td>find</td><td>åŸºäºå‚æ•°æŸ¥æ‰¾æ–‡ä»¶ã€‚</td></tr><tr><td>diff</td><td>å¯¹ä¸¤ä¸ªæ–‡ä»¶å¤¹æˆ–è€…å­˜å‚¨æ¡¶æ¯”è¾ƒå·®å¼‚ã€‚</td></tr><tr><td>rm</td><td>åˆ é™¤æ–‡ä»¶å’Œå¯¹è±¡ã€‚</td></tr><tr><td>events</td><td>ç®¡ç†å¯¹è±¡é€šçŸ¥ã€‚</td></tr><tr><td>watch</td><td>ç›‘è§†æ–‡ä»¶å’Œå¯¹è±¡çš„äº‹ä»¶ã€‚</td></tr><tr><td>policy</td><td>ç®¡ç†è®¿é—®ç­–ç•¥ã€‚</td></tr><tr><td>config</td><td>ç®¡ç†mcé…ç½®æ–‡ä»¶ã€‚</td></tr><tr><td>update</td><td>æ£€æŸ¥è½¯ä»¶æ›´æ–°ã€‚</td></tr><tr><td>version</td><td>è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯ã€‚</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mcè¿æ¥minioæœåŠ¡">mcè¿æ¥minIOæœåŠ¡<a href="#mcè¿æ¥minioæœåŠ¡" class="hash-link" aria-label="Direct link to mcè¿æ¥minIOæœåŠ¡" title="Direct link to mcè¿æ¥minIOæœåŠ¡">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># æ·»åŠ å¯¹è±¡å­˜å‚¨æœåŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio-binaries]# mc alias set k8s-minio http://10.102.223.132:9000 minioadmin minioadmin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Added `k8s-minio` successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master minio-binaries]# mc admin info k8s-minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â—  10.102.223.132:9000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Uptime: 41 minutes </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Version: 2023-04-07T05:28:58Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Network: 1/1 OK </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Drives: 1/1 OK </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Pool: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pools:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1st, Erasure sets: 1, Drives per erasure set: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12 MiB Used, 1 Bucket, 2 Objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 drive online, 0 drives offline</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bucketæ“ä½œ">bucketæ“ä½œ<a href="#bucketæ“ä½œ" class="hash-link" aria-label="Direct link to bucketæ“ä½œ" title="Direct link to bucketæ“ä½œ">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ›å»ºbucket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc mb k8s-minio/test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bucket created successfully `k8s-minio/test`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æŸ¥çœ‹bucket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc ls k8s-minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-04-13 10:02:02 CST]     0B test/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ é™¤æ²¡æœ‰æ–‡ä»¶çš„bucket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc rb k8s-minio/demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ é™¤æœ‰æ–‡ä»¶çš„bucket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc rb k8s-minio/test --force</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¸Šä¼ ä¸‹è½½æ“ä½œ">ä¸Šä¼ ä¸‹è½½æ“ä½œ<a href="#ä¸Šä¼ ä¸‹è½½æ“ä½œ" class="hash-link" aria-label="Direct link to ä¸Šä¼ ä¸‹è½½æ“ä½œ" title="Direct link to ä¸Šä¼ ä¸‹è½½æ“ä½œ">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ä¸Šä¼ æ–‡ä»¶åˆ°bucket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc cp /etc/hosts k8s-minio/test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/etc/hosts:                   2.09 KiB / 2.09 KiB â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 60.07 KiB/s 0s[root@k8s-master ~]# mc cp /etc/yum.repos.d k8s-minio/test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ä¸Šä¼ ç›®å½•åˆ°bucket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc cp /etc/yum.repos.d k8s-minio/test --recursive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...m.repos.d/kubernetes.repo: 19.46 KiB / 19.46 KiB â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 121.99 KiB/s 0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ä¸‹è½½bucketæ–‡ä»¶åˆ°æœ¬åœ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mkdir /tmp/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc cp k8s-minio/test/hosts /tmp/download/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...2.223.132:9000/test/hosts: 2.09 KiB / 2.09 KiB â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 66.18 KiB/s 0s[root@k8s-master ~]# ls /tmp/download/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# cat /tmp/download/hosts </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ä¸‹è½½bucketç›®å½•åˆ°æœ¬åœ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc cp k8s-minio/test/yum.repos.d /tmp/download/ --recursive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...m.repos.d/kubernetes.repo: 19.46 KiB / 19.46 KiB â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 87.10 KiB/s 0s[root@k8s-master ~]# ls /tmp/download/yum.repos.d/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-ce.repo     epel-testing-modular.repo  Rocky-AppStream.repo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ–‡ä»¶æ“ä½œ">æ–‡ä»¶æ“ä½œ<a href="#æ–‡ä»¶æ“ä½œ" class="hash-link" aria-label="Direct link to æ–‡ä»¶æ“ä½œ" title="Direct link to æ–‡ä»¶æ“ä½œ">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># æŸ¥çœ‹bucketæ–‡ä»¶åˆ—è¡¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc ls k8s-minio/test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-04-13 10:04:59 CST] 2.1KiB STANDARD hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-04-13 10:10:42 CST]     0B yum.repos.d/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æŸ¥çœ‹bucketç›®å½•å†…å®¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc ls k8s-minio/test/yum.repos.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-04-13 10:05:34 CST]   710B STANDARD Rocky-AppStream.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-04-13 10:05:34 CST]   695B STANDARD Rocky-BaseOS.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-04-13 10:05:34 CST] 1.7KiB STANDARD Rocky-Debuginfo.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2023-04-13 10:05:34 CST]   360B STANDARD Rocky-Devel.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æŸ¥çœ‹bucketæ–‡ä»¶å†…å®¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc cat k8s-minio/test/hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ é™¤æ–‡ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc rm k8s-minio/test/hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Removed `k8s-minio/test/hosts`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ é™¤ç›®å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@k8s-master ~]# mc rm k8s-minio/test/yum.repos.d --recursive --force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Removed `k8s-minio/test/yum.repos.d/Rocky-AppStream.repo`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Removed `k8s-minio/test/yum.repos.d/Rocky-BaseOS.repo`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Removed `k8s-minio/test/yum.repos.d/Rocky-Debuginfo.repo`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Removed `k8s-minio/test/yum.repos.d/Rocky-Devel.repo`.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>curlå®¢æˆ·ç«¯ä½¿ç”¨</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¸Šä¼ æ–‡ä»¶">ä¸Šä¼ æ–‡ä»¶<a href="#ä¸Šä¼ æ–‡ä»¶" class="hash-link" aria-label="Direct link to ä¸Šä¼ æ–‡ä»¶" title="Direct link to ä¸Šä¼ æ–‡ä»¶">â€‹</a></h2><p>ä¸Šä¼ æ–‡ä»¶è„šæœ¬ï¼ŒæŒ‰å®é™…æƒ…å†µä¿®æ”¹hostã€s3_keyã€s3_secretå’Œ-x</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@tiaoban ~]# cat push.sh </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:/bin:/usr/bin:/usr/local/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ $# != 2 ] ; then </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Usage: `basename $0` my-bucket my-file.zip&quot; &gt;&amp;2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bucket=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file=$2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host=minio-api.test.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s3_key=GfuHooI5byVpGf2RGwl3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s3_secret=YpYqXKKhI4bNUmWWULa3qf5n5WPq3TDedb1uzREc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource=&quot;/${bucket}/${file}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">content_type=&quot;application/zstd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">date=`date -R`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_signature=&quot;PUT\n\n${content_type}\n${date}\n${resource}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signature=`echo -en ${_signature} | openssl sha1 -hmac ${s3_secret} -binary | base64`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X PUT -T &quot;${file}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          -H &quot;Host: ${host}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          -x &quot;192.168.10.10:80&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          -H &quot;Date: ${date}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          -H &quot;Content-Type: ${content_type}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          -H &quot;Authorization: AWS ${s3_key}:${signature}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          http://${host}${resource}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸Šä¼ æ–‡ä»¶</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@tiaoban ~]# ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">anaconda-ks.cfg  cfssl  defaults.ini  es  go  push.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@tiaoban ~]# ./push.sh test defaults.ini </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*   Trying 192.168.10.10...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* TCP_NODELAY set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Connected to 192.168.10.10 (192.168.10.10) port 80 (#0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PUT http://minio-api.test.com/test/defaults.ini HTTP/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Host: minio-api.test.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; User-Agent: curl/7.61.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Accept: */*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Proxy-Connection: Keep-Alive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Date: Sat, 06 May 2023 10:10:07 +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Content-Type: application/zstd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Authorization: AWS bhUsp7nwc6XNPzoI:w2ddmcsQWOijC2BZJSGE4u7DgFc=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Content-Length: 55875</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Expect: 100-continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; HTTP/1.1 100 Continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* We are completely uploaded and fine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Accept-Ranges: bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Content-Length: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Content-Security-Policy: block-all-mixed-content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Date: Sat, 06 May 2023 02:10:07 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Etag: &quot;1b0bdd8f4c5f31ef5661380efcaefce5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Server: MinIO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Strict-Transport-Security: max-age=31536000; includeSubDomains</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Vary: Origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Vary: Accept-Encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; X-Amz-Id-2: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; X-Amz-Request-Id: 175C6BE8ACF79B53</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; X-Content-Type-Options: nosniff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; X-Xss-Protection: 1; mode=block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Connection #0 to host 192.168.10.10 left intact</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æŸ¥çœ‹bucketæ–‡ä»¶
<img loading="lazy" src="https://cdn.agou-ops.cn/others/1683339253090-6b00229f-cf94-4f0f-a62f-9d52bf38cc6d.png" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¸‹è½½æ–‡ä»¶">ä¸‹è½½æ–‡ä»¶<a href="#ä¸‹è½½æ–‡ä»¶" class="hash-link" aria-label="Direct link to ä¸‹è½½æ–‡ä»¶" title="Direct link to ä¸‹è½½æ–‡ä»¶">â€‹</a></h2><p>ä¸‹è½½æ–‡ä»¶è„šæœ¬</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/usr/bin/env sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ $# != 3 ] ; then </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Usage: `basename $0` my-bucket minio-filename localfile&quot; &gt;&amp;2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Usage: `basename $0` test-bucket 1.log /tmp/1.log&quot; &gt;&amp;2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># User Minio Vars</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host=minio-api.test.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s3_key=bhUsp7nwc6XNPzoI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s3_secret=w3KBPxMZ5Nw4apRGZY3uAHON7bkkKprP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BUCKET=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MINIO_PATH=&quot;/${BUCKET}/$2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OUT_FILE=$3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Static Vars</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATE=$(date -R)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONTENT_TYPE=&#x27;application/zstd&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SIG_STRING=&quot;GET\n\n${CONTENT_TYPE}\n${DATE}\n${MINIO_PATH}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SIGNATURE=`echo -en ${SIG_STRING} | openssl sha1 -hmac ${s3_secret} -binary | base64`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -o &quot;${OUT_FILE}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -x &quot;192.168.10.10:80&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;Host: $host&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;Date: ${DATE}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;Content-Type: ${CONTENT_TYPE}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;Authorization: AWS ${s3_key}:${SIGNATURE}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http://$URL${MINIO_PATH}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸‹è½½æ–‡ä»¶</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@tiaoban ~]# ./pull.sh test defaults.ini /tmp/defaults.ini</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*   Trying 192.168.10.10...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* TCP_NODELAY set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 Dload  Upload   Total   Spent    Left  Speed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Connected to 192.168.10.10 (192.168.10.10) port 80 (#0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GET http://minio-api.test.com/test/defaults.ini HTTP/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Host: minio-api.test.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; User-Agent: curl/7.61.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Accept: */*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Proxy-Connection: Keep-Alive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Date: Sat, 06 May 2023 10:17:18 +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Content-Type: application/zstd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Authorization: AWS bhUsp7nwc6XNPzoI:sl8feCFiJC4MpaKSKrGU9HlDMLw=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Accept-Ranges: bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Content-Length: 55875</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Content-Security-Policy: block-all-mixed-content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Content-Type: application/zstd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Date: Sat, 06 May 2023 02:17:18 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Etag: &quot;1b0bdd8f4c5f31ef5661380efcaefce5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Last-Modified: Sat, 06 May 2023 02:10:07 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Server: MinIO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Strict-Transport-Security: max-age=31536000; includeSubDomains</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Vary: Origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; Vary: Accept-Encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; X-Amz-Id-2: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; X-Amz-Request-Id: 175C6C4CF3EB56C4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; X-Content-Type-Options: nosniff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; X-Xss-Protection: 1; mode=block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ [3529 bytes data]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">100 55875  100 55875    0     0  1474k      0 --:--:-- --:--:-- --:--:-- 1515k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Connection #0 to host 192.168.10.10 left intact</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@tiaoban ~]# ls -lh /tmp/defaults.ini </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 55K 5æœˆ   6 10:17 /tmp/defaults.ini</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>è¯¥æ–‡ç« æ¥æºäºç½‘ç»œï¼Œä»…åšä¸ªäººå¤‡ä»½.</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/AGou-ops/myDocsv4/edit/main/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…MinIOå¯¹è±¡å­˜å‚¨.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/k8så®‰è£…Apolloé…ç½®ä¸­å¿ƒ"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">k8så®‰è£…Apolloé…ç½®ä¸­å¿ƒ</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/CloudNative/k8s/å®æˆ˜æ¡ˆä¾‹/ä½¿ç”¨CSR APIåˆ›å»ºç”¨æˆ·"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ä½¿ç”¨CSR APIåˆ›å»ºç”¨æˆ·</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å‚è€ƒæ–‡æ¡£" class="table-of-contents__link toc-highlight">å‚è€ƒæ–‡æ¡£</a></li><li><a href="#éƒ¨ç½²minio" class="table-of-contents__link toc-highlight">éƒ¨ç½²minIO</a></li><li><a href="#é›†ç¾¤è§’è‰²è§„åˆ’" class="table-of-contents__link toc-highlight">é›†ç¾¤è§’è‰²è§„åˆ’</a></li><li><a href="#ä¸‹è½½helmåŒ…" class="table-of-contents__link toc-highlight">ä¸‹è½½helmåŒ…</a></li><li><a href="#ä¿®æ”¹é…ç½®" class="table-of-contents__link toc-highlight">ä¿®æ”¹é…ç½®</a></li><li><a href="#éƒ¨ç½²minio-1" class="table-of-contents__link toc-highlight">éƒ¨ç½²minIO</a></li><li><a href="#æŸ¥çœ‹èµ„æºä¿¡æ¯" class="table-of-contents__link toc-highlight">æŸ¥çœ‹èµ„æºä¿¡æ¯</a></li><li><a href="#åˆ›å»ºingressèµ„æº" class="table-of-contents__link toc-highlight">åˆ›å»ºingressèµ„æº</a></li><li><a href="#è®¿é—®æµ‹è¯•" class="table-of-contents__link toc-highlight">è®¿é—®æµ‹è¯•</a></li><li><a href="#è®¿é—®webç®¡ç†é¡µ" class="table-of-contents__link toc-highlight">è®¿é—®webç®¡ç†é¡µ</a></li><li><a href="#åˆ›å»ºbucket" class="table-of-contents__link toc-highlight">åˆ›å»ºbucket</a></li><li><a href="#åˆ›å»ºaccess-keys" class="table-of-contents__link toc-highlight">åˆ›å»ºAccess Keys</a></li><li><a href="#åˆ›å»ºè®¿é—®æ§åˆ¶æƒé™" class="table-of-contents__link toc-highlight">åˆ›å»ºè®¿é—®æ§åˆ¶æƒé™</a></li><li><a href="#å®‰è£…mcå®¢æˆ·ç«¯linuxäºŒè¿›åˆ¶æ–‡ä»¶" class="table-of-contents__link toc-highlight">å®‰è£…mcå®¢æˆ·ç«¯ï¼ˆLinuxäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰</a></li><li><a href="#å®‰è£…mcå®¢æˆ·ç«¯docker" class="table-of-contents__link toc-highlight">å®‰è£…mcå®¢æˆ·ç«¯ï¼ˆdockerï¼‰</a></li><li><a href="#mcå®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤" class="table-of-contents__link toc-highlight">mcå®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤</a></li><li><a href="#mcè¿æ¥minioæœåŠ¡" class="table-of-contents__link toc-highlight">mcè¿æ¥minIOæœåŠ¡</a></li><li><a href="#bucketæ“ä½œ" class="table-of-contents__link toc-highlight">bucketæ“ä½œ</a></li><li><a href="#ä¸Šä¼ ä¸‹è½½æ“ä½œ" class="table-of-contents__link toc-highlight">ä¸Šä¼ ä¸‹è½½æ“ä½œ</a></li><li><a href="#æ–‡ä»¶æ“ä½œ" class="table-of-contents__link toc-highlight">æ–‡ä»¶æ“ä½œ</a></li><li><a href="#ä¸Šä¼ æ–‡ä»¶" class="table-of-contents__link toc-highlight">ä¸Šä¼ æ–‡ä»¶</a></li><li><a href="#ä¸‹è½½æ–‡ä»¶" class="table-of-contents__link toc-highlight">ä¸‹è½½æ–‡ä»¶</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs Releases</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://agou-ops.cn/myDocs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Version 1.0<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://agou-ops.cn/myDocsv2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Version 2.0<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://agou-ops.cn/myDocsv3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Version 3.0<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://agou-ops.cn/myDocsv4" target="_blank" rel="noopener noreferrer" class="footer__link-item">â­ï¸Version 4.0<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://agou-ops.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">â­ï¸æˆ‘çš„åšå®¢<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/AGou-ops" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 AGou-ops' Documetation v4.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.769d471d.js"></script>
<script src="/assets/js/main.cfb3537f.js"></script>
</body>
</html>
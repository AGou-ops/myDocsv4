"use strict";(self.webpackChunkmy_docsv_4=self.webpackChunkmy_docsv_4||[]).push([[9530],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var a=t(67294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var o=a.createContext({}),s=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},c=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,o=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(t),m=l,N=u["".concat(o,".").concat(m)]||u[m]||k[m]||r;return t?a.createElement(N,p(p({ref:n},c),{},{components:t})):a.createElement(N,p({ref:n},c))}));function m(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,p=new Array(r);p[0]=u;var i={};for(var o in n)hasOwnProperty.call(n,o)&&(i[o]=n[o]);i.originalType=e,i.mdxType="string"==typeof e?e:l,p[1]=i;for(var s=2;s<r;s++)p[s]=t[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},62080:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>p,default:()=>k,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var a=t(87462),l=(t(67294),t(3905));const r={},p="OpenVPN for CentOS",i={unversionedId:"LinuxBasics/OpenVPN for CentOS",id:"LinuxBasics/OpenVPN for CentOS",title:"OpenVPN for CentOS",description:"CentOS7 \u5b89\u88c5\u914d\u7f6e OpenVPN",source:"@site/docs/LinuxBasics/OpenVPN for CentOS.md",sourceDirName:"LinuxBasics",slug:"/LinuxBasics/OpenVPN for CentOS",permalink:"/docs/LinuxBasics/OpenVPN for CentOS",draft:!1,editUrl:"https://github.com/AGou-ops/myDocsv4/edit/main/docs/LinuxBasics/OpenVPN for CentOS.md",tags:[],version:"current",frontMatter:{},sidebar:"linuxBasics",previous:{title:"Linux\u8bca\u65ad",permalink:"/docs/LinuxBasics/Linux\u8bca\u65ad"},next:{title:"PVE Tips",permalink:"/docs/LinuxBasics/PVE/PVE Tips"}},o={},s=[{value:"CentOS7 \u5b89\u88c5\u914d\u7f6e OpenVPN",id:"centos7-\u5b89\u88c5\u914d\u7f6e-openvpn",level:2},{value:"OpenVPN \u7b80\u4ecb",id:"openvpn-\u7b80\u4ecb",level:2},{value:"OpenVPN \u5b89\u88c5",id:"openvpn-\u5b89\u88c5",level:2},{value:"\u4f7f\u7528<code>EasyRSA</code>\u6784\u5efa CA",id:"\u4f7f\u7528easyrsa\u6784\u5efa-ca",level:3},{value:"\u5b89\u88c5 OpenVPN \u548c EasyRSA",id:"\u5b89\u88c5-openvpn-\u548c-easyrsa",level:3},{value:"\u521b\u5efa<code>Diffie-Hellman</code>\u548c<code>HMAC</code>\u5bc6\u94a5",id:"\u521b\u5efadiffie-hellman\u548chmac\u5bc6\u94a5",level:3},{value:"\u521b\u5efa\u670d\u52a1\u5668\u8bc1\u4e66\u548c\u79c1\u94a5",id:"\u521b\u5efa\u670d\u52a1\u5668\u8bc1\u4e66\u548c\u79c1\u94a5",level:3},{value:"\u914d\u7f6e<code>OpenVPN</code>\u670d\u52a1",id:"\u914d\u7f6eopenvpn\u670d\u52a1",level:3},{value:"\u542f\u52a8 OpenVPN \u670d\u52a1",id:"\u542f\u52a8-openvpn-\u670d\u52a1",level:3},{value:"\u914d\u7f6e\u5ba2\u6237\u7aef\u63a5\u53e3",id:"\u914d\u7f6e\u5ba2\u6237\u7aef\u63a5\u53e3",level:2},{value:"\u521b\u5efa\u5ba2\u6237\u7aef\u8bc1\u4e66\u79c1\u94a5\u548c\u914d\u7f6e",id:"\u521b\u5efa\u5ba2\u6237\u7aef\u8bc1\u4e66\u79c1\u94a5\u548c\u914d\u7f6e",level:2},{value:"\u4f7f\u7528 OpenVPN",id:"\u4f7f\u7528-openvpn",level:2},{value:"\u5feb\u901f\u5b89\u88c5 OpenVPN",id:"\u5feb\u901f\u5b89\u88c5-openvpn",level:2}],c={toc:s};function k(e){let{components:n,...t}=e;return(0,l.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"openvpn-for-centos"},"OpenVPN for CentOS"),(0,l.kt)("h2",{id:"centos7-\u5b89\u88c5\u914d\u7f6e-openvpn"},"CentOS7 \u5b89\u88c5\u914d\u7f6e OpenVPN"),(0,l.kt)("h2",{id:"openvpn-\u7b80\u4ecb"},"OpenVPN \u7b80\u4ecb"),(0,l.kt)("p",null,"OpenVPN \u662f\u4e00\u4e2a\u57fa\u4e8e OpenSSL \u5e93\u7684\u5e94\u7528\u5c42 VPN \u5b9e\u73b0\u3002\u548c\u4f20\u7edf VPN \u76f8\u6bd4\uff0c\u5b83\u7684\u4f18\u70b9\u662f\u7b80\u5355\u6613\u7528\u3002 ","[1]"," "),(0,l.kt)("p",null,"OpenVPN\u5141\u8bb8\u53c2\u4e0e\u5efa\u7acbVPN\u7684\u5355\u70b9\u4f7f\u7528\u5171\u4eab\u91d1\u94a5\uff0c\u7535\u5b50\u8bc1\u4e66\uff0c\u6216\u8005\u7528\u6237\u540d/\u5bc6\u7801\u6765\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002\u5b83\u5927\u91cf\u4f7f\u7528\u4e86OpenSSL\u52a0\u5bc6\u5e93\u4e2d\u7684SSLv3/TLSv1 \u534f\u8bae\u51fd\u5f0f\u5e93\u3002OpenVPN\u80fd\u5728Solaris\u3001Linux\u3001OpenBSD\u3001FreeBSD\u3001NetBSD\u3001Mac OS X\u4e0eWindows 2000/XP/Vista\u4e0a\u8fd0\u884c\uff0c\u5e76\u5305\u542b\u4e86\u8bb8\u591a\u5b89\u5168\u6027\u7684\u529f\u80fd\u3002\u5b83\u5e76\u4e0d\u662f\u4e00\u4e2a\u57fa\u4e8eWeb\u7684VPN\u8f6f\u4ef6\uff0c\u4e5f\u4e0d\u4e0eIPsec\u53ca\u5176\u4ed6VPN\u8f6f\u4ef6\u5305\u517c\u5bb9\u3002"),(0,l.kt)("h2",{id:"openvpn-\u5b89\u88c5"},"OpenVPN \u5b89\u88c5"),(0,l.kt)("h3",{id:"\u4f7f\u7528easyrsa\u6784\u5efa-ca"},"\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"h3"},"EasyRSA"),"\u6784\u5efa CA"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u9996\u5148\u4ece\u9879\u76ee",(0,l.kt)("a",{parentName:"li",href:"https://github.com/OpenVPN/easy-rsa"},"Github\u5b58\u50a8\u5e93"),"\u4e0b\u8f7dEasyRSA\u7684\u6700\u65b0\u7248\u672c\u5e76\u89e3\u538b\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd && wget https://github.com/OpenVPN/easy-rsa/releases/download/v3.0.5/EasyRSA-nix-3.0.7.tgz\ntar xzf EasyRSA-3.0.7.tgz\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u590d\u5236\u6a21\u677f\u6587\u4ef6\uff0c\u5e76\u8fdb\u884c\u9002\u5f53\u4fee\u6539\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'mv EasyRSA-3.0.7 EasyRSA-CA; cd EasyRSA-CA\ncp vars.example vars\n# ---------- \u7f16\u8f91 vars \u6587\u4ef6\u5185\u5bb9`95`\u884c\u5de6\u53f3 ----------\nset_var EASYRSA_REQ_COUNTRY    "CN"\nset_var EASYRSA_REQ_PROVINCE   "Shandong"\nset_var EASYRSA_REQ_CITY       "Jinan"\nset_var EASYRSA_REQ_ORG        "AGou"\nset_var EASYRSA_REQ_EMAIL      "AGou-ops@foxmail.com"\nset_var EASYRSA_REQ_OU         "Community"\n')),(0,l.kt)("p",null,"\u4fee\u6539\u5b8c\u6210\u4e4b\u540e\u4fdd\u5b58\u9000\u51fa\u3002"),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u521d\u59cb\u5316",(0,l.kt)("inlineCode",{parentName:"li"},"PKI"),"\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@test EasyRSA-CA]\\# ./easyrsa init-pki\n\nNote: using Easy-RSA configuration from: /root/EasyRSA-3.0.7/vars\n\ninit-pki complete; you may now create a CA or requests.\nYour newly created PKI dir is: /root/EasyRSA-3.0.7/pki\n")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"\u63a5\u4e0b\u6765\u5efa\u7acb",(0,l.kt)("inlineCode",{parentName:"li"},"CA"),"\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@test EasyRSA-CA]\\# ./easyrsa build-ca nopass\n\nNote: using Easy-RSA configuration from: /root/EasyRSA-3.0.7/vars\nUsing SSL: openssl OpenSSL 1.0.2k-fips  26 Jan 2017\nGenerating RSA private key, 2048 bit long modulus\n...............+++\n............................................................................................................................+++\ne is 65537 (0x10001)\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCommon Name (eg: your user, host, or server name) [Easy-RSA CA]:\n\nCA creation complete and you may now import and sign cert requests.\nYour new CA certificate file for publishing is at:\n/root/EasyRSA-3.0.7/pki/ca.crt\n")),(0,l.kt)("p",null,"\u5b8c\u6210\u540e\uff0c\u8be5\u811a\u672c\u5c06\u521b\u5efa\u4e24\u4e2a\u6587\u4ef6-CA\u516c\u5171\u8bc1\u4e66",(0,l.kt)("inlineCode",{parentName:"p"},"PKI/ca.crt"),"\u548cCA\u79c1\u94a5",(0,l.kt)("inlineCode",{parentName:"p"},"PKI/private/ca.key")),(0,l.kt)("h3",{id:"\u5b89\u88c5-openvpn-\u548c-easyrsa"},"\u5b89\u88c5 OpenVPN \u548c EasyRSA"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u53ef\u4ee5\u5728 OpenVPN \u7684\u5b98\u65b9 github \u4ed3\u5e93 \u4e0b\u8f7d\u6700\u65b0\u6e90\u7801\u5305\u8fdb\u884c\u7f16\u8bd1\u5b89\u88c5\uff0c\u5728\u8fd9\u91cc\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"li"},"epel"),"\u4ed3\u5e93\u8fdb\u884c\u5b89\u88c5\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"yum install epel-release -y\nyum install openvpn -y\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u83b7\u53d6\u6700\u65b0\u7248\u672c\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"EasyRSA"),"\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd && wget https://github.com/OpenVPN/easy-rsa/releases/download/v3.0.5/EasyRSA-nix-3.0.7.tgz\ntar xzf EasyRSA-3.0.7.tgz\nmv EasyRSA-3.0.7 EasyRSA-Sever1\ncd EasyRSA-Sever1\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u5c3d\u7ba1\u6211\u4eec\u5df2\u7ecf\u5728 CA \u4e3b\u673a\u4e0a\u521d\u59cb\u5316\u4e86PKI\uff0c\u4f46\u662f\u6211\u4eec\u8fd8\u9700\u8981\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"OpenVPN \u670d\u52a1\u5668"),"\u4e0a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 PKI \uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@test EasyRSA-Server1]\\# ./easyrsa init-pki\n\nNote: using Easy-RSA configuration from: /root/EasyRSA-Server1/vars\n\ninit-pki complete; you may now create a CA or requests.\nYour newly created PKI dir is: /root/EasyRSA-Server1/pki\n")),(0,l.kt)("h3",{id:"\u521b\u5efadiffie-hellman\u548chmac\u5bc6\u94a5"},"\u521b\u5efa",(0,l.kt)("inlineCode",{parentName:"h3"},"Diffie-Hellman"),"\u548c",(0,l.kt)("inlineCode",{parentName:"h3"},"HMAC"),"\u5bc6\u94a5"),(0,l.kt)("p",null,"\u751f\u6210\u4e00\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"Diffie-Hellman"),"\u5bc6\u94a5\uff0c\u8be5\u5bc6\u94a5\u5c06\u5728\u5bc6\u94a5\u4ea4\u6362\u671f\u95f4\u4f7f\u7528\uff0c\u5e76\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"HMAC"),"\u7b7e\u540d\u6587\u4ef6\u4e3a\u8fde\u63a5\u6dfb\u52a0\u9644\u52a0\u7684\u5b89\u5168\u5c42\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5728",(0,l.kt)("inlineCode",{parentName:"li"},"OpenVPN"),"\u670d\u52a1\u5668\u4e0a\uff0c\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"li"},"Diffie-Hellman"),"\u5bc6\u94a5\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/EasyRSA-Server1\n./easyrsa gen-dh\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u590d\u5236\u8be5\u6587\u4ef6\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/openvpn"),"\u76ee\u5f55\u4e2d\u53bb\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp /root/EasyRSA-Server1/pki/dh.pem /etc/openvpn\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u63a5\u4e0b\u6765\uff0c\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"li"},"openvpn"),"\u4e8c\u8fdb\u5236\u6587\u4ef6\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"li"},"HMAC"),"\u7b7e\u540d\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"openvpn --genkey --secret ta.key\n")),(0,l.kt)("p",null,"\u7136\u540e\u5c06\u751f\u6210\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"ta.key"),"\u590d\u5236\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/openvpn"),"\u76ee\u5f55\u4e2d\u53bb\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp ta.key /etc/openvpn\n")),(0,l.kt)("h3",{id:"\u521b\u5efa\u670d\u52a1\u5668\u8bc1\u4e66\u548c\u79c1\u94a5"},"\u521b\u5efa\u670d\u52a1\u5668\u8bc1\u4e66\u548c\u79c1\u94a5"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u8fdb\u5165",(0,l.kt)("inlineCode",{parentName:"li"},"OpenVPN\u670d\u52a1\u5668"),"\u4e0a\u7684EasyRSA\u76ee\u5f55\uff0c\u5e76\u4e3a\u670d\u52a1\u5668\u548c\u8bc1\u4e66\u8bf7\u6c42\u6587\u4ef6\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u79c1\u94a5\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/EasyRSA-Server1\n./easyrsa gen-req server1 nopass\n")),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u5c06\u521b\u5efa\u4e24\u4e2a\u6587\u4ef6\uff0c\u4e00\u4e2a\u79c1\u94a5\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"server1.key"),"\uff09\u548c\u4e00\u4e2a\u8bc1\u4e66\u8bf7\u6c42\u6587\u4ef6\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"server1.req"),"\uff09"),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u5c06\u751f\u6210\u7684\u79c1\u94a5\u590d\u5236\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/openvpn"),"\u76ee\u5f55\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp /root/EasyRSA-Server1/pki/private/server1.key /etc/openvpn/\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u5c06\u8bc1\u4e66\u8bf7\u6c42\u53d1\u9001\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"CA"),"\u4e3b\u673a\uff08\u8fd9\u91cc\u6211CA\u4e3b\u673a\u4e0eOpenVPN\u4e3a\u540c\u4e00\u4e3b\u673a\uff09\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp ~/EasyRSA-Server1/pki/reqs/server1.req /tmp\n")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"\u767b\u5f55",(0,l.kt)("inlineCode",{parentName:"li"},"CA\u4e3b\u673a"),"\uff0c\u5207\u6362\u5230 EasyRSA \u76ee\u5f55\u5e76\u5bfc\u5165\u8bc1\u4e66\u8bf7\u6c42\u6587\u4ef6\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/EasyRSA-CA\n./easyrsa import-req /tmp/server1.req server1\n")),(0,l.kt)("p",null,"\u6b64\u547d\u4ee4\u53ea\u662f\u5c06\u8bf7\u6c42\u6587\u4ef6\u590d\u5236\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"pki/reqs"),"\u76ee\u5f55\u4e2d\u3002"),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"\u5728",(0,l.kt)("inlineCode",{parentName:"li"},"CA\u4e3b\u673a"),"\u4e0a\uff0c\u7b7e\u7f72\u8bc1\u4e66\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"./easyrsa sign-req server server1\n")),(0,l.kt)("p",null,"\u786e\u8ba4\u4fe1\u606f\u65e0\u8bef\u4e4b\u540e\uff0c\u8f93\u5165 yes \u7136\u540e\u70b9\u51fb\u56de\u8f66\u5373\u53ef\u3002"),(0,l.kt)("ol",{start:6},(0,l.kt)("li",{parentName:"ol"},"\u5728",(0,l.kt)("inlineCode",{parentName:"li"},"CA\u4e3b\u673a"),"\u4e0a\uff0c\u5c06\u7b7e\u540d\u7684\u8bc1\u4e66",(0,l.kt)("inlineCode",{parentName:"li"},"server1.crt"),"\u548c",(0,l.kt)("inlineCode",{parentName:"li"},"ca.crt"),"\u6587\u4ef6\u4f20\u53d1\u9001\u56de",(0,l.kt)("inlineCode",{parentName:"li"},"OpenVPN\u4e3b\u673a"),"\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp ~/EasyRSA-CA/pki/issued/server1.crt /etc/openvpn/\ncp ~/EasyRSA-CA/pki/ca.crt /etc/openvpn/\n")),(0,l.kt)("p",null,"\u26a0\ufe0f \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u6211\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"CA\u4e3b\u673a"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"OpenVPN"),"\u4e3b\u673a\u662f\u540c\u4e00\u4e3b\u673a\uff0c\u6240\u4ee5\u4e0a\u9762\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/openvpn"),"\u76ee\u5f55\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"OpenVPN\u4e3b\u673a"),"\u7684\u3002"),(0,l.kt)("p",null,"\u6240\u6709\u6b65\u9aa4\u90fd\u5b8c\u6210\u4e4b\u540e\uff0c\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/openvpn"),"\u76ee\u5f55\u4e0b\u5e94\u5f53\u6709\u8fd9\u4e9b\u6587\u4ef6\u5b58\u5728\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@test EasyRSA-CA]\\# ls /etc/openvpn/\nca.crt  client  dh.pem  server  server1.crt  server1.key  ta.key\n")),(0,l.kt)("h3",{id:"\u914d\u7f6eopenvpn\u670d\u52a1"},"\u914d\u7f6e",(0,l.kt)("inlineCode",{parentName:"h3"},"OpenVPN"),"\u670d\u52a1"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5c06 OpenVPN \u7684\u6a21\u677f\u914d\u7f6e\u6587\u4ef6\u590d\u5236\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/openvpn"),"\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp /usr/share/doc/openvpn-2.4.9/sample/sample-config-files/server.conf /etc/openvpn/server1.conf\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u4fee\u6539",(0,l.kt)("inlineCode",{parentName:"li"},"server1.conf"),"\uff0c\u627e\u5230\u8bc1\u4e66\uff0c\u5bc6\u94a5\u548cDH\u53c2\u6570\u6307\u4ee4\u5e76\u66f4\u6539\u6587\u4ef6\u540d\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"user nobody\ngroup nogroup\n# ---------- \u5927\u7ea6\u572878\u884c\u5de6\u53f3 ----------\ncert server1.crt\nkey server1.key \n\ndh dh.pem\n\n# \u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u884c\u3002\u8be5\u6307\u4ee4\u4f1a\u5c06\u6d88\u606f\u8eab\u4efd\u9a8c\u8bc1\u7b97\u6cd5\uff08HMAC\uff09\u4eceSHA1\u66f4\u6539\u4e3aSHA256\nauth SHA256\n")),(0,l.kt)("p",null,"\u2139\ufe0f\u53ef\u9009\uff1a \u8981\u901a\u8fc7VPN\u91cd\u5b9a\u5411\u5ba2\u6237\u7aef\u6d41\u91cf\uff0c\u8bf7\u627e\u5230\u5e76\u53d6\u6d88\u6ce8\u91ca",(0,l.kt)("inlineCode",{parentName:"p"},"redirect-gateway"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"dhcp-option"),"\u9009\u9879\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"/etc/openvpn/server1.conf")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'push "redirect-gateway def1 bypass-dhcp"\n\npush "dhcp-option DNS 208.67.222.222"\npush "dhcp-option DNS 208.67.220.220"\n')),(0,l.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528OpenDNS\u89e3\u6790\u5668\u3002\u60a8\u53ef\u4ee5\u66f4\u6539\u5b83\u5e76\u4f7f\u7528CloudFlare\uff0cGoogle\u6216\u60a8\u60f3\u8981\u7684\u4efb\u4f55\u5176\u4ed6DNS\u89e3\u6790\u5668\u3002"),(0,l.kt)("p",null,"\u5b8c\u6574\u914d\u7f6e\u6587\u4ef6\u53c2\u8003\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'port 1194\nproto udp\ndev tun\nca ca.crt\ncert server1.crt\nkey server1.key  # This file should be kept secret\ndh dh.pem\nserver 10.8.0.0 255.255.255.0\nifconfig-pool-persist ipp.txt\npush "redirect-gateway def1 bypass-dhcp"\npush "dhcp-option DNS 208.67.222.222"\npush "dhcp-option DNS 208.67.220.220"\nkeepalive 10 120\ntls-auth ta.key 0 # This file is secret\ncipher AES-256-CBC\nuser nobody\ngroup nobody\npersist-key\npersist-tun\nstatus openvpn-status.log\nverb 3\nexplicit-exit-notify 1\nauth SHA256\n')),(0,l.kt)("h3",{id:"\u542f\u52a8-openvpn-\u670d\u52a1"},"\u542f\u52a8 OpenVPN \u670d\u52a1"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"systemctl start openvpn@server1\n")),(0,l.kt)("p",null,"\u6210\u529f\u542f\u52a8\u4e4b\u540e\uff0cOpenVPN Server \u4f1a\u521b\u5efa\u4e00\u4e2a tun \u8bbe\u5907\uff0c\u5373",(0,l.kt)("inlineCode",{parentName:"p"},"tun0"),"\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@test openvpn]\\# ip a show tun0\n3: tun0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UNKNOWN group default qlen 100\n    link/none \n    inet 10.8.0.1 peer 10.8.0.2/32 scope global tun0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::afaa:c6f7:7ae8:3a76/64 scope link flags 800 \n       valid_lft forever preferred_lft forever\n")),(0,l.kt)("p",null,"\u4e3a\u4e86\u6b63\u786e\u8f6c\u53d1\u7f51\u7edc\u6570\u636e\u5305\uff0c\u6211\u4eec\u9700\u8981\u542f\u7528IP\u8f6c\u53d1\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo "net.ipv4.ip_forward = 1" >> /etc/sysctl.conf\nsysctl -p\n')),(0,l.kt)("h2",{id:"\u914d\u7f6e\u5ba2\u6237\u7aef\u63a5\u53e3"},"\u914d\u7f6e\u5ba2\u6237\u7aef\u63a5\u53e3"),(0,l.kt)("p",null,"\u521b\u5efa\u4e00\u4e2a\u5355\u72ec\u7684SSL\u8bc1\u4e66\uff0c\u5e76\u4e3a\u6bcf\u4e2aVPN\u5ba2\u6237\u7aef\u751f\u6210\u4e00\u4e2a\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\u3002"),(0,l.kt)("p",null,"\u5ba2\u6237\u7aef\u79c1\u94a5\u548c\u8bc1\u4e66\u8bf7\u6c42\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u8ba1\u7b97\u673a\u6216\u670d\u52a1\u5668\u4e0a\u751f\u6210\u3002\u4e3a\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5c06\u5728\u670d\u52a1\u5668\u4e0a\u751f\u6210\u8bc1\u4e66\u8bf7\u6c42\uff0c\u7136\u540e\u5c06\u5176\u53d1\u9001\u5230CA\u8fdb\u884c\u7b7e\u540d\u3002"),(0,l.kt)("p",null,"\u751f\u6210\u5ba2\u6237\u7aef\u8bc1\u4e66\u548c\u914d\u7f6e\u6587\u4ef6\u7684\u6574\u4e2a\u8fc7\u7a0b\u5982\u4e0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5728OpenVPN\u670d\u52a1\u5668\u4e0a\u751f\u6210\u79c1\u94a5\u548c\u8bc1\u4e66\u8bf7\u6c42\uff1b")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u8981\u7b7e\u540d\u7684CA\u8ba1\u7b97\u673a\uff1b")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5c06\u7b7e\u540d\u7684SSL\u8bc1\u4e66\u590d\u5236\u5230OpenVPN\u670d\u52a1\u5668\u5e76\u751f\u6210\u914d\u7f6e\u6587\u4ef6\uff1b")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5c06\u914d\u7f6e\u6587\u4ef6\u53d1\u9001\u5230VPN\u5ba2\u6237\u7aef\u7684\u8ba1\u7b97\u673a\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u9996\u5148\uff0c\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"OpenVPN\u4e3b\u673a"),"\u4e0a\u521b\u5efa\u4e00\u7ec4\u76ee\u5f55\u6765\u5b58\u653e\u5ba2\u6237\u7aef\u6587\u4ef6\uff1a"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir -p ~/openvpn-clients/{configs,base,files}\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"base")," \u76ee\u5f55\u5c06\u5b58\u50a8\u5c06\u5728\u6240\u6709\u5ba2\u6237\u7aef\u6587\u4ef6\u4e4b\u95f4\u5171\u4eab\u7684\u57fa\u672c\u6587\u4ef6\u548c\u914d\u7f6e\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"configs")," \u76ee\u5f55\u5c06\u5b58\u50a8\u751f\u6210\u7684\u5ba2\u6237\u7aef\u914d\u7f6e\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"files")," \u76ee\u5f55\u5c06\u5b58\u50a8\u7279\u5b9a\u4e8e\u5ba2\u6237\u7aef\u7684\u8bc1\u4e66/\u5bc6\u94a5\u5bf9\u3002")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u590d\u5236",(0,l.kt)("inlineCode",{parentName:"li"},"ca.crt"),"\u548c",(0,l.kt)("inlineCode",{parentName:"li"},"ta.key"),"\u6587\u4ef6\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"~/openvpn-clients/base"),"\u76ee\u5f55\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp ~/EasyRSA-Server1/ta.key ~/openvpn-clients/base/\ncp /etc/openvpn/ca.crt ~/openvpn-clients/base/\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u5c06\u793a\u4f8b\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u590d\u5236\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"~/openvpn-clients/base/"),"\u76ee\u5f55\u4e0b\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp /usr/share/doc/openvpn-2.4.9/sample/sample-config-files/client.conf ~/openvpn-clients/base/\n")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"\u7f16\u8f91",(0,l.kt)("inlineCode",{parentName:"li"},"client.conf"),"\u6587\u4ef6\u4ee5\u5339\u914d\u6211\u4eec\u7684\u670d\u52a1\u5668\u914d\u7f6e\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"remote 172.16.1.131 1194\n# \u5728\u6587\u4ef6\u7ed3\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\nauth SHA256\nkey-direction 1\n")),(0,l.kt)("p",null,"\u5b8c\u6574\u914d\u7f6e\u6587\u4ef6\u53c2\u8003\u5982\u4e0b\u6240\u793a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"client\ndev tun\nproto udp\nremote 172.16.1.131 1194\nresolv-retry infinite\nnobind\npersist-key\npersist-tun\nremote-cert-tls server\ncipher AES-256-CBC\nverb 3\nauth SHA256\nkey-direction 1\n")),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"\u63a5\u4e0b\u6765\uff0c\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684bash\u811a\u672c\uff0c\u5b83\u5c06\u57fa\u672c\u914d\u7f6e\u548c\u6587\u4ef6\u4e0e\u5ba2\u6237\u7aef\u8bc1\u4e66\u548c\u5bc6\u94a5\u5408\u5e76\uff0c\u5e76\u5c06\u751f\u6210\u7684\u914d\u7f6e\u5b58\u50a8\u5728",(0,l.kt)("inlineCode",{parentName:"li"},"~/openvpn-clients/configs"),"\u76ee\u5f55\u4e2d\uff1a")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"vim ~/openvpn-clients/gen_config.sh")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n\nFILES_DIR=$HOME/openvpn-clients/files\nBASE_DIR=$HOME/openvpn-clients/base\nCONFIGS_DIR=$HOME/openvpn-clients/configs\n\nBASE_CONF=${BASE_DIR}/client.conf\nCA_FILE=${BASE_DIR}/ca.crt\nTA_FILE=${BASE_DIR}/ta.key\n\nCLIENT_CERT=${FILES_DIR}/${1}.crt\nCLIENT_KEY=${FILES_DIR}/${1}.key\n\n# Test for files\nfor i in "$BASE_CONF" "$CA_FILE" "$TA_FILE" "$CLIENT_CERT" "$CLIENT_KEY"; do\n    if [[ ! -f $i ]]; then\n        echo " The file $i does not exist"\n        exit 1\n    fi\n\n    if [[ ! -r $i ]]; then\n        echo " The file $i is not readable."\n        exit 1\n    fi\ndone\n\n# Generate client config\ncat > ${CONFIGS_DIR}/${1}.ovpn <<EOF\n$(cat ${BASE_CONF})\n<key>\n$(cat ${CLIENT_KEY})\n</key>\n<cert>\n$(cat ${CLIENT_CERT})\n</cert>\n<ca>\n$(cat ${CA_FILE})\n</ca>\n<tls-auth>\n$(cat ${TA_FILE})\n</tls-auth>\nEOF\n')),(0,l.kt)("p",null,"\u8d4b\u4e88\u6267\u884c\u6743\u9650\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chmod +x ~/openvpn-clients/gen_config.sh\n")),(0,l.kt)("h2",{id:"\u521b\u5efa\u5ba2\u6237\u7aef\u8bc1\u4e66\u79c1\u94a5\u548c\u914d\u7f6e"},"\u521b\u5efa\u5ba2\u6237\u7aef\u8bc1\u4e66\u79c1\u94a5\u548c\u914d\u7f6e"),(0,l.kt)("p",null,"\u751f\u6210\u5ba2\u6237\u7aef\u79c1\u94a5\u548c\u8bc1\u4e66\u8bf7\u6c42\u7684\u8fc7\u7a0b\u4e0e\u751f\u6210\u670d\u52a1\u5668\u5bc6\u94a5\u548c\u8bc1\u4e66\u8bf7\u6c42\u7684\u8fc7\u7a0b\u76f8\u540c\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u767b\u5f55",(0,l.kt)("inlineCode",{parentName:"li"},"OpenVPN\u4e3b\u673a"),"\u4e3a\u5ba2\u6237\u7aef\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u79c1\u94a5\u548c\u4e00\u4e2a\u8bc1\u4e66\u8bf7\u6c42\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/EasyRSA-Server1\n./easyrsa gen-req client1 nopass\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u5c06\u79c1\u94a5",(0,l.kt)("inlineCode",{parentName:"li"},"client1.key"),"\u590d\u5236\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"~/openvpn-clients/files"),"\u4e2d\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp ~/EasyRSA-Server1/pki/private/client1.key ~/openvpn-clients/files/\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u5c06\u8bc1\u4e66\u8bf7\u6c42\u6587\u4ef6\u4f20\u8f93\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"CA\u4e3b\u673a"),"\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp ~/EasyRSA-Server1/pki/reqs/client1.req /tmp\n")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"\u8fdb\u5165",(0,l.kt)("inlineCode",{parentName:"li"},"CA\u4e3b\u673a"),"\uff0c\u5bfc\u5165\u8bc1\u4e66\u8bf7\u6c42\u5e76\u8fdb\u884c\u7b7e\u7f72\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/EasyRSA-CA\n./easyrsa import-req /tmp/client1.req client1\n./easyrsa sign-req client client1\n")),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"\u63a5\u4e0b\u6765\uff0c\u5c06\u7b7e\u597d\u540d\u7684\u8bc1\u4e66",(0,l.kt)("inlineCode",{parentName:"li"},"client1.crt"),"\u6587\u4ef6\u53d1\u9001\u56de",(0,l.kt)("inlineCode",{parentName:"li"},"OpenVPN\u4e3b\u673a"),"\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp ~/EasyRSA-CA/pki/issued/client1.crt ~/openvpn-clients/files\n")),(0,l.kt)("ol",{start:6},(0,l.kt)("li",{parentName:"ol"},"\u6700\u540e\u4e00\u6b65\u662f\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"li"},"gen_config.sh"),"\u811a\u672c\u751f\u6210\u5ba2\u6237\u7aef\u914d\u7f6e\uff0c\u5207\u6362\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"~/openvpn-clients"),"\u76ee\u5f55\u5e76\u4f7f\u7528\u5ba2\u6237\u7aef\u540d\u79f0\u4f5c\u4e3a\u53c2\u6570\u8fd0\u884c\u811a\u672c\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/openvpn-clients\n./gen_config.sh client1\n")),(0,l.kt)("p",null,"\u8be5\u811a\u672c\u5c06\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"~/client-configs/configs"),"\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"client1.ovpn"),"\u7684\u6587\u4ef6\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@test openvpn-clients]\\# ls ~/openvpn-clients/configs\nclient1.ovpn\n")),(0,l.kt)("p",null,"\u6b64\u65f6\uff0c\u5ba2\u6237\u7aef\u914d\u7f6e\u5df2\u521b\u5efa\uff0c\u53ef\u4ee5\u76f4\u63a5\u5c06\u914d\u7f6e\u6587\u4ef6\u4f20\u8f93\u5230\u8981\u7528\u4f5c\u5ba2\u6237\u7aef\u7684\u8bbe\u5907\u4e0a\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u60f3\u8981\u6dfb\u52a0\u5176\u4ed6\u7684\u5ba2\u6237\u7aef\uff0c\u91cd\u590d\u8fd9\u4e9b\u6b65\u9aa4\u5373\u53ef\u3002"),(0,l.kt)("h2",{id:"\u4f7f\u7528-openvpn"},"\u4f7f\u7528 OpenVPN"),(0,l.kt)("p",null,"\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"Debian"),"\u7cfb\u7cfb\u7edf\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt update -y && sudo apt instal openvpn\n")),(0,l.kt)("p",null,"\u5b89\u88c5\u5b8c\u8f6f\u4ef6\u5305\u4e4b\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fde\u63a5\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"OpenVPN"),"\u670d\u52a1\u5668\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo openvpn --config client1.ovpn\n")),(0,l.kt)("h2",{id:"\u5feb\u901f\u5b89\u88c5-openvpn"},"\u5feb\u901f\u5b89\u88c5 OpenVPN"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt update -y\nsudo apt install -y openvpn\n")),(0,l.kt)("p",null,"\u4ece github \u83b7\u53d6\u4e00\u952e\u5b89\u88c5\u811a\u672c:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/angristan/openvpn-install.git\ncd openvpn-install\n")),(0,l.kt)("p",null,"\u8d4b\u4e88\u811a\u672c\u53ef\u6267\u884c\u6743\u9650:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chmod +x openvpn-install\n")),(0,l.kt)("p",null,"\u6267\u884c\u811a\u672c:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"AUTO_INSTALL=y ./openvpn-install.sh\n")),(0,l.kt)("p",null,"\u26a0\ufe0f \u6ce8\u610f: \u5728\u5ba2\u6237\u7aef\u4f7f\u7528 OpenVPN \u65f6, \u8981\u786e\u4fdd\u670d\u52a1\u5668\u7aef\u7684 OpenVPN \u76d1\u542c\u7684\u7aef\u53e3\u5904\u4e8e\u653e\u884c\u72b6\u6001."),(0,l.kt)("p",null,"Linux \u5ba2\u6237\u7aef\u4f7f\u7528:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install network-manager-openvpn\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo openvpn ./client.ovpn\n")),(0,l.kt)("p",null,"Windows \u5ba2\u6237\u7aef\u4f7f\u7528:"),(0,l.kt)("p",null,"\u76f4\u63a5\u53bb",(0,l.kt)("a",{parentName:"p",href:"https://openvpn.net/community-downloads/"}," OpenVPN \u5b98\u65b9\u4e0b\u8f7d\u7ad9\u70b9"),"\u4e0b\u8f7d\u7136\u540e\u5bfc\u5165\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6 ",(0,l.kt)("inlineCode",{parentName:"p"},"client.ovpn"),", \u7136\u540e\u542f\u52a8\u670d\u52a1\u5373\u53ef."))}k.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkmy_docsv_4=self.webpackChunkmy_docsv_4||[]).push([[6129],{3905:(n,r,e)=>{e.d(r,{Zo:()=>f,kt:()=>s});var t=e(67294);function a(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function o(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),e.push.apply(e,t)}return e}function l(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?o(Object(e),!0).forEach((function(r){a(n,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))}))}return n}function i(n,r){if(null==n)return{};var e,t,a=function(n,r){if(null==n)return{};var e,t,a={},o=Object.keys(n);for(t=0;t<o.length;t++)e=o[t],r.indexOf(e)>=0||(a[e]=n[e]);return a}(n,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(t=0;t<o.length;t++)e=o[t],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(a[e]=n[e])}return a}var g=t.createContext({}),c=function(n){var r=t.useContext(g),e=r;return n&&(e="function"==typeof n?n(r):l(l({},r),n)),e},f=function(n){var r=c(n.components);return t.createElement(g.Provider,{value:r},n.children)},p={inlineCode:"code",wrapper:function(n){var r=n.children;return t.createElement(t.Fragment,{},r)}},u=t.forwardRef((function(n,r){var e=n.components,a=n.mdxType,o=n.originalType,g=n.parentName,f=i(n,["components","mdxType","originalType","parentName"]),u=c(e),s=a,m=u["".concat(g,".").concat(s)]||u[s]||p[s]||o;return e?t.createElement(m,l(l({ref:r},f),{},{components:e})):t.createElement(m,l({ref:r},f))}));function s(n,r){var e=arguments,a=r&&r.mdxType;if("string"==typeof n||a){var o=e.length,l=new Array(o);l[0]=u;var i={};for(var g in r)hasOwnProperty.call(r,g)&&(i[g]=r[g]);i.originalType=n,i.mdxType="string"==typeof n?n:a,l[1]=i;for(var c=2;c<o;c++)l[c]=e[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,e)}u.displayName="MDXCreateElement"},90807:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>g,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var t=e(87462),a=(e(67294),e(3905));const o={},l="Golang \u9519\u8bef\u53ca\u9519\u8bef\u5904\u7406",i={unversionedId:"ProgramLang/Golang/Golang Errors - handler",id:"ProgramLang/Golang/Golang Errors - handler",title:"Golang \u9519\u8bef\u53ca\u9519\u8bef\u5904\u7406",description:"\u9519\u8bef\u6355\u83b7",source:"@site/docs/ProgramLang/Golang/Golang Errors - handler.md",sourceDirName:"ProgramLang/Golang",slug:"/ProgramLang/Golang/Golang Errors - handler",permalink:"/docs/ProgramLang/Golang/Golang Errors - handler",draft:!1,editUrl:"https://github.com/AGou-ops/myDocsv4/edit/main/docs/ProgramLang/Golang/Golang Errors - handler.md",tags:[],version:"current",frontMatter:{},sidebar:"programLang",previous:{title:"Golang \u57fa\u7840",permalink:"/docs/ProgramLang/Golang/Golang Basic"},next:{title:"Golang \u6587\u4ef6\u64cd\u4f5c",permalink:"/docs/ProgramLang/Golang/Golang File Operate"}},g={},c=[{value:"\u9519\u8bef\u6355\u83b7",id:"\u9519\u8bef\u6355\u83b7",level:2},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:2},{value:"\u53c2\u8003\u94fe\u63a5",id:"\u53c2\u8003\u94fe\u63a5",level:2}],f={toc:c};function p(n){let{components:r,...e}=n;return(0,a.kt)("wrapper",(0,t.Z)({},f,e,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"golang-\u9519\u8bef\u53ca\u9519\u8bef\u5904\u7406"},"Golang \u9519\u8bef\u53ca\u9519\u8bef\u5904\u7406"),(0,a.kt)("h2",{id:"\u9519\u8bef\u6355\u83b7"},"\u9519\u8bef\u6355\u83b7"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "errors"\n    "fmt"\n)\n\nfunc f1(arg int) (int, error) {\n    if arg == 42 {\n\n        return -1, errors.New("can\'t work with 42")\n\n    }\n\n    return arg + 3, nil\n}\n\ntype argError struct {\n    arg  int\n    prob string\n}\n\nfunc (e *argError) Error() string {\n    return fmt.Sprintf("%d - %s", e.arg, e.prob)\n}\n\nfunc f2(arg int) (int, error) {\n    if arg == 42 {\n\n        return -1, &argError{arg, "can\'t work with it"}\n    }\n    return arg + 3, nil\n}\n\nfunc main() {\n\n    for _, i := range []int{7, 42} {\n        if r, e := f1(i); e != nil {\n            fmt.Println("f1 failed:", e)\n        } else {\n            fmt.Println("f1 worked:", r)\n        }\n    }\n    for _, i := range []int{7, 42} {\n        if r, e := f2(i); e != nil {\n            fmt.Println("f2 failed:", e)\n        } else {\n            fmt.Println("f2 worked:", r)\n        }\n    }\n\n    _, e := f2(42)\n    if ae, ok := e.(*argError); ok {\n        fmt.Println(ae.arg)\n        fmt.Println(ae.prob)\n    }\n}\n')),(0,a.kt)("p",null,"\u8fd0\u884c\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ go run errors.go\nf1 worked: 10\nf1 failed: can't work with 42\nf2 worked: 10\nf2 failed: 42 - can't work with it\n42\ncan't work with it\n")),(0,a.kt)("h2",{id:"\u9519\u8bef\u5904\u7406"},"\u9519\u8bef\u5904\u7406"),(0,a.kt)("p",null,"\u521b\u5efa",(0,a.kt)("inlineCode",{parentName:"p"},"error"),"\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'func main() {\n    defer func() {\n        if err := recover(); err != nil {\n            fmt.Println(err)\n        }\n    }()\n    fmt.Println("main() started")\n    panic("error here.")\n    fmt.Println("END main()")\n}\n')),(0,a.kt)("h2",{id:"\u53c2\u8003\u94fe\u63a5"},"\u53c2\u8003\u94fe\u63a5"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"err handling go blog: ",(0,a.kt)("a",{parentName:"li",href:"https://go.dev/blog/error-handling-and-go"},"https://go.dev/blog/error-handling-and-go"))))}p.isMDXComponent=!0}}]);